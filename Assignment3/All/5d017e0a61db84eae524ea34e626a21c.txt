<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Eight Ways You&#8217;ve Misconfigured Your A/B Test | Dr. Jason Davis</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://s2.wp.com/wp-content/themes/pub/twentyeleven/style.css?m=1376345598g" />
<link rel="pingback" href="http://drjasondavis.com/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://s2.wp.com/wp-content/themes/pub/twentyeleven/js/html5.js?m=1354160568g" type="text/javascript"></script>
<![endif]-->
		<script src='http://r-login.wordpress.com/remote-login.php?action=js&amp;host=drjasondavis.com&amp;id=18274169&amp;t=1380959800&amp;back=drjasondavis.com%2F2013%2F09%2F12%2Feight-ways-youve-misconfigured-your-ab-test%2F' type="text/javascript"></script>
		<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
		<link rel="alternate" type="application/rss+xml" title="Dr. Jason Davis &raquo; Feed" href="http://drjasondavis.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Dr. Jason Davis &raquo; Comments Feed" href="http://drjasondavis.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Dr. Jason Davis &raquo; Eight Ways You&#8217;ve Misconfigured Your A/B&nbsp;Test Comments Feed" href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/feed/" />
<script type="text/javascript">
/* <![CDATA[ */
function addLoadEvent(func){var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
/* ]]> */
</script>
<link rel='stylesheet' id='all-css-0' href='http://s0.wp.com/_static/??-eJyNjuEKwjAMhF/Imk0n4g/xWboudt3SptjUsrd3KuJgCP46cnyXOyhRGQ6CQcBnFSlbFxKQGzHBgBK1GdXr2pqUNrDAW2L7DbC12HEWdWUiLlBcZ1FWoUVH5DTTpN0NkkyEK1Z69POKmFuQMhsTEt4xvGlVomH/7/9e31ywH/3V1DdgiVtNT+Diz/X+eDpUTbWrhwdYn26G' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var LoggedOutFollow = {"invalid_email":"Your subscription did not succeed, please try again with a valid email address."};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/_static/??-eJyFkN0KwjAMRl/IrviDxQvxWbYuK6ltU5vWMZ/eDiYoDnaVkBxy+CLHKDSFDCFLy9JThw5EYUitqTOBYaDG8k5WDoN2pQeeQfsokKalbALCo0lthsZj+MBf1kicPTBX5cr2V4XhiTBuYhZybPVdJGB8/V3tHBkRXTEYWNbeQE8li4Gco1GO2BvIa6E0eT9/JUF00xLm5q/7o1KHs7qok30DqLN9jA=='></script>
<link rel='stylesheet' id='all-css-0' href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621g' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='http://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563g&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://drjasondavis.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://drjasondavis.wordpress.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='The Life of a Last Minute New York City Restaurant&nbsp;Reservation' href='http://drjasondavis.com/2013/08/05/the-life-of-a-last-minute-new-york-city-restaurant-reservation/' />
<link rel='next' title='A Mixpanel Data&nbsp;Exporter' href='http://drjasondavis.com/2013/09/23/a-mixpanel-data-exporter/' />
<meta name="generator" content="WordPress.com" />
<link rel='canonical' href='http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/' />
<link rel='shortlink' href='http://wp.me/p1eFWF-42' />
<link rel="alternate" type="application/json+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=json&amp;url=http%3A%2F%2Fdrjasondavis.com%2F2013%2F09%2F12%2Feight-ways-youve-misconfigured-your-ab-test%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="http://public-api.wordpress.com/oembed/1.0/?format=xml&amp;url=http%3A%2F%2Fdrjasondavis.com%2F2013%2F09%2F12%2Feight-ways-youve-misconfigured-your-ab-test%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Eight Ways You&#039;ve Misconfigured Your A/B Test" />
<meta property="og:url" content="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/" />
<meta property="og:description" content="You&#039;ve read about the virtues of A/B testing feature releases. You love iterating quickly, testing quickly, and continually learning in a data-driven fashion. You appreciate the importance of keepi..." />
<meta property="og:site_name" content="Dr. Jason Davis" />
<meta property="og:image" content="http://i1.wp.com/drjasondavis.files.wordpress.com/2013/09/cache_problems.png?fit=1600%2C1600" />
<meta property="og:image" content="http://i2.wp.com/drjasondavis.files.wordpress.com/2013/09/machine_wtf.png?fit=1600%2C1600" />
<meta property="og:image" content="http://i0.wp.com/drjasondavis.files.wordpress.com/2013/09/sneakpreview_rt.png?fit=1600%2C1600" />
<meta property="og:image" content="http://i1.wp.com/drjasondavis.files.wordpress.com/2013/09/retained_users.png?fit=1600%2C1600" />
<meta name="twitter:site" content="@wordpressdotcom" />
<meta name="twitter:image0" content="http://i1.wp.com/drjasondavis.files.wordpress.com/2013/09/cache_problems.png?fit=1600%2C1600" />
<meta name="twitter:image1" content="http://i2.wp.com/drjasondavis.files.wordpress.com/2013/09/machine_wtf.png?fit=1600%2C1600" />
<meta name="twitter:image2" content="http://i0.wp.com/drjasondavis.files.wordpress.com/2013/09/sneakpreview_rt.png?fit=1600%2C1600" />
<meta name="twitter:image3" content="http://i1.wp.com/drjasondavis.files.wordpress.com/2013/09/retained_users.png?fit=1600%2C1600" />
<meta name="twitter:card" content="gallery" />
<meta name="twitter:creator" content="@jasondavis" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />
<link rel="shortcut icon" type="image/x-icon" href="http://0.gravatar.com/blavatar/02ffdc2699019e275e013e9841591676?s=16" sizes="16x16" />
<link rel="icon" type="image/x-icon" href="http://0.gravatar.com/blavatar/02ffdc2699019e275e013e9841591676?s=16" sizes="16x16" />
<link rel="apple-touch-icon-precomposed" href="http://0.gravatar.com/blavatar/095dd04a59c8f03bd14460b595c587b2?s=114" />
<link rel='openid.server' href='http://drjasondavis.wordpress.com/?openidserver=1' />
<link rel='openid.delegate' href='http://drjasondavis.wordpress.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="http://drjasondavis.com/osd.xml" title="Dr. Jason Davis" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wordpress.com/opensearch.xml" title="WordPress.com" />
		<style>
		/* <![CDATA[ */
		/* Block: reblog */
		
		.reblog-from img                   { margin: 0 10px 0 0; vertical-align: middle; padding: 0; border: 0; }
		.reblogger-note img.avatar         { float: left; padding: 0; border: 0; }
		.reblogger-note-content            { margin: 0 0 20px; }
		.reblog-post .wpcom-enhanced-excerpt-content { border-left: 3px solid #eee; padding-left: 15px; }
		.reblog-post ul.thumb-list         { display: block; list-style: none; margin: 2px 0; padding: 0; clear: both; }
		.reblog-post ul.thumb-list li      { display: inline; margin: 0; padding: 0 1px; border: 0; }
		.reblog-post ul.thumb-list li a    { margin: 0; padding: 0; border: 0; }
		.reblog-post ul.thumb-list li img  { margin: 0; padding: 0; border: 0; }
		
		.reblog-post .wpcom-enhanced-excerpt { clear: both; }
		
		.reblog-post .wpcom-enhanced-excerpt address,
		.reblog-post .wpcom-enhanced-excerpt li,
		.reblog-post .wpcom-enhanced-excerpt h1,
		.reblog-post .wpcom-enhanced-excerpt h2,
		.reblog-post .wpcom-enhanced-excerpt h3,
		.reblog-post .wpcom-enhanced-excerpt h4,
		.reblog-post .wpcom-enhanced-excerpt h5,
		.reblog-post .wpcom-enhanced-excerpt h6,
		.reblog-post .wpcom-enhanced-excerpt p { font-size: 100% !important; }
		
		.reblog-post .wpcom-enhanced-excerpt blockquote,
		.reblog-post .wpcom-enhanced-excerpt pre,
		.reblog-post .wpcom-enhanced-excerpt code,
		.reblog-post .wpcom-enhanced-excerpt q { font-size: 98% !important; }
		

		/* ]]> */
		</style>
				<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none !important;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="Dr. Jason Davis" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-tooltip" content="Data Science Hacking" /><meta name="msapplication-task" content="name=Subscribe;action-uri=http://drjasondavis.com/feed/;icon-uri=http://0.gravatar.com/blavatar/02ffdc2699019e275e013e9841591676?s=16" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico" /><meta name="title" content="Eight Ways You&#8217;ve Misconfigured Your A/B&nbsp;Test | Dr. Jason Davis on WordPress.com" />
<meta name="description" content="You&#039;ve read about the virtues of A/B testing feature releases. You love iterating quickly, testing quickly, and continually learning in a data-driven fashion. You appreciate the importance of keeping an eye on the statistics behind your testing, and perhaps you even use a tool or two to make sure your results are statistically valid. But,&hellip;" />
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #e2e2e2; }
</style>
<style id="syntaxhighlighteranchor"></style>
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="http://drjasondavis.com/?custom-css=1&#038;csblog=1eFWF&#038;cscache=6&#038;csrev=4" />
		</head>

<body class="single single-post postid-250 single-format-standard custom-background typekit-enabled single-author singular two-column right-sidebar mp6 highlander-enabled highlander-light">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="http://drjasondavis.com/" title="Dr. Jason Davis" rel="home">Dr. Jason Davis</a></span></h1>
				<h2 id="site-description">Data Science Hacking</h2>
			</hgroup>

						<a href="http://drjasondavis.com/">
									<img src="http://drjasondavis.files.wordpress.com/2013/07/cropped-penguin-long3.png" width="1000" height="303" alt="" />
							</a>
			
								<form method="get" id="searchform" action="http://drjasondavis.com/">
		<label for="s" class="assistive-text">Search</label>
		<input type="text" class="field" name="s" id="s" placeholder="Search" />
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search" />
	</form>
			
			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content" title="Skip to primary content">Skip to primary content</a></div>
				<div class="skip-link"><a class="assistive-text" href="#secondary" title="Skip to secondary content">Skip to secondary content</a></div>
								<div class="menu"><ul><li ><a href="http://drjasondavis.com/" title="Home">Home</a></li><li class="page_item page-item-2"><a href="http://drjasondavis.com/about/">About</a></li></ul></div>
			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

		<div id="primary">
			<div id="content" role="main">

				
					<nav id="nav-single">
						<h3 class="assistive-text">Post navigation</h3>
						<span class="nav-previous"><a href="http://drjasondavis.com/2013/08/05/the-life-of-a-last-minute-new-york-city-restaurant-reservation/" rel="prev"><span class="meta-nav">&larr;</span> Previous</a></span>
						<span class="nav-next"><a href="http://drjasondavis.com/2013/09/23/a-mixpanel-data-exporter/" rel="next">Next <span class="meta-nav">&rarr;</span></a></span>
					</nav><!-- #nav-single -->

					
<article id="post-250" class="post-250 post type-post status-publish format-standard hentry category-analytics category-data tag-ab-testing tag-product-development">
	<header class="entry-header">
		<h1 class="entry-title">Eight Ways You&#8217;ve Misconfigured Your A/B&nbsp;Test</h1>

				<div class="entry-meta">
						<span class="sep">Posted on </span><a href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/" title="3:58 pm" rel="bookmark"><time class="entry-date" datetime="2013-09-12T15:58:45+00:00">September 12, 2013</time></a><span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://drjasondavis.com/author/jasonvdavis/" title="View all posts by Jason Davis (@jasondavis)" rel="author">Jason Davis (@jasondavis)</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p><a href="http://drjasondavis.files.wordpress.com/2013/09/moai.png"><img src="http://drjasondavis.files.wordpress.com/2013/09/moai.png?w=584&#038;h=181" alt="moai" width="584" height="181" class="alignnone size-full wp-image-298" /></a></p>
<p>You&#8217;ve read about the virtues of A/B testing feature releases. You love iterating quickly, testing quickly, and continually learning in a data-driven fashion. You appreciate the importance of keeping an eye on the <a href="http://drjasondavis.com/2013/05/19/a-corollary-to-experimentcalculator-com-with-examples/">statistics behind your testing</a>, and perhaps you even use <a href="http://www.experimentcalculator.com/">a tool</a> or two to make sure your results are statistically valid.</p>
<p>But, you ran a test last week, the results have been coming in for some time now, but, the data just doesn&#8217;t look quite right.</p>
<p>Where to begin?</p>
<p>Read on, eight common problems, maybe one of which might just be your problem.</p>
<h2>Problem: You&#8217;ve changed your weights mid-experiment</h2>
<p><a href="http://drjasondavis.files.wordpress.com/2013/09/ab_rampup.png"><img src="http://drjasondavis.files.wordpress.com/2013/09/ab_rampup.png?w=584" alt="ab_rampup"   class="alignnone size-full wp-image-330" /></a></p>
<p>A basic premise behind A/B testing is that of running two different variants at the same time. Your bounce rates, conversion rates, and pretty much all your metrics vary from day to day, and oftentimes this variation is larger than the difference between each of your experiment variants. Running your A variant on Sunday, Monday, and Tuesday, and then switching things to B on Wednesday, Thursday, and Friday just doesn&#8217;t work. An A/B test allows you to randomly assign users into one of two bins, running two variants simultaneously throughout the entire time period.</p>
<p>And as it turns out, switching variant weights mid-test suffers from the same problems as running variants serially. Intuitively speaking, switching from a 100/0 test (with A at 100% and B at 0%) on Tuesday to a 0/100 test on Wednesday is quite similar switching from a 99/1 test on Tuesday to a 1/99 test on Wednesday. In both cases, while the &#8220;average test&#8221; turns out to be 50/50, the results are still dominated by the day over day variation from Tuesday to Wednesday: A&#8217;s metrics will be more reflective of Tuesday&#8217;s metrics, and B&#8217;s metrics will reflect Wednesday&#8217;s metrics. If Tuesday happens to be stronger than Wednesday, then A will appear to have won; conversely, if Wednesday is stronger, then B would falsely appear to be the winner.</p>
<p>Although less magnified, switching from a 99/1 test to a 95/5 suffers from this problem as well.</p>
<p>So, make sure to measure results only over period in which your A/B ratios remain constant. And as a corollary, make sure you&#8217;re also recording your A/B ratios as you change them.</p>
<p>Google Analytics (as well as others) use so-called &#8220;bandit tests&#8221; in which the variants ramp-up (or ramp-down) depending on variant performance. The statistics are somewhat different from standard A/B testing, and changing weights mid-experiment is of course central to how bandit testing works. As an aside, I think Google&#8217;s bandit test optimizer is a nice tool for quick and dirty experiments, but I&#8217;m generally not a huge fan of bandit testing (see <a href="http://mcfunley.com/the-case-against-bandit-testing">Dan&#8217;s rant</a> for a good reflection of my take).</p>
<h2>Problem: Your experiment retains users</h2>
<p><a href="http://drjasondavis.files.wordpress.com/2013/09/retained_users.png"><img src="http://drjasondavis.files.wordpress.com/2013/09/retained_users.png?w=584" alt="retained_users"   class="alignnone size-full wp-image-331" /></a></p>
<p>You just launched an experiment showing big improvements to your registration funnel, and registrations have increased by 10% in your experiment bucket (bucket B). But since registered users are more likely to come back to your site than non-registered users, you start seeing your B bucket growing in size. Most A/B systems bucket based on users and not visits. So what started as a 50/50 test will change to a 49/51 test on day two, and then a 48/52 test on day three, etc. as more users convert in your B group than the A. Your buckets are no longer evenly distributed either as B is biased towards logged-in and registered users.</p>
<p>Since your B variant is growing in size, and since this growth is coming from existing users and not new users, you&#8217;ll also start to see registration rates decrease for your test group (even though it&#8217;s actually outperforming the control!).</p>
<p>The first red flag to look out for here is your bucket sizes; even though you&#8217;ve configured your test to be 50/50, ratios start changing slowly over time. Once you notice this, you can try to restrict your analysis to the first few days (or week) of the experiment. Or you could also make an educated decision about the winner based on an understanding of the dynamics of what you&#8217;ve changed.</p>
<p>Bucketing based on visits instead of users is tempting, but can also add to user confusion as people will likely see multiple variants.</p>
<p>A related case that deserves special attention are features that are explicitly designed to create return visits to your site. For example, eBay&#8217;s saved search reminders or something even as simple as an email signup form. These sorts of features will quickly create imbalances in your visit counts.</p>
<h2>Problem: Your segmentation is wrong</h2>
<p>When you start segmenting users in your A/B tests, you&#8217;re effectively introducing a third variant for your experiment: A, B, and <i>not in a variant</i>. Consider the two following code snippets:<br />
<code><br />
# INCORRECT<br />
bucket = ab_selector.assign_bucket_and_log(test, user)<br />
if (user.gender == ‘female’):<br />
&nbsp;&nbsp; if (bucket == ‘control’):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render control variant<br />
&nbsp;&nbsp; elif (bucket == ‘test’):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render test variant<br />
else:<br />
&nbsp;&nbsp; # Render control variant</p>
<p># CORRECT<br />
if (user.gender == ‘female’):<br />
&nbsp;&nbsp; bucket = ab_selector.assign_bucket_and_log(test, user)<br />
&nbsp;&nbsp; if (bucket == ‘control’):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render control variant<br />
&nbsp;&nbsp; elif (bucket == ‘test’):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render test variant<br />
else:<br />
&nbsp;&nbsp; # Render control variant<br />
</code></p>
<p>In the first snippet, the bucketing logic appears outside the conditional. So when the call to assign_bucket_and_log is made, each and every user is logged into either the control or the test, regardless of whether or not they&#8217;ve met the selection criteria.</p>
<p>Let&#8217;s take a deeper look into how this sort of experiment should be bucketing users in the correct version of the code above:</p>
<table>
<tbody>
<th>
<td>In Segment</td>
<td>Not In Segment</td>
</th>
<tr>
<td>Control (A)</td>
<td>A</td>
<td><i>no variant</i></td>
</tr>
<tr>
<td>Test (B)</td>
<td>B</td>
<td><i>no variant</i></td>
</tr>
</tbody>
</table>
<p>Let&#8217;s look at the problem with the incorrect configuration where all users are bucketed:</p>
<table>
<tbody>
<th>
<td>In Segment</td>
<td>Not In Segment</td>
</th>
<tr>
<td>Control (A)</td>
<td>A</td>
<td>A</td>
</tr>
<tr>
<td>Test (B)</td>
<td>B</td>
<td><b>A</b></td>
</tr>
</tbody>
</table>
<p>Here, all <i>Not In Segment</i> users are all shown variant A, even though users within this group who were logged as seeing B ended up actually seeing A.</p>
<h2>Problem: You&#8217;re cherry picking</h2>
<p>Say you have a new recommendation algorithm that you think people will love, but it only works for users who have previously purchased 10 items.</p>
<p>Consider the following incorrect snippet:<br />
<code><br />
# INCORRECT<br />
if (new_hot_algorithm.has_results):<br />
&nbsp;&nbsp; bucket = ab_selector.assign_bucket_and_log(test, user)<br />
&nbsp;&nbsp; if (bucket == ‘test’):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render test<br />
&nbsp;&nbsp; elif (bucket == 'control'):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render control<br />
else:<br />
&nbsp;&nbsp; # Render control<br />
</code></p>
<p>You may notice that this snippet is quite similar to the segmentation snippet. In fact, the correct version of the segmentation snippet actually looks quite similar to the incorrect version of the so-called &#8220;cherry picking&#8221; experiment.</p>
<p>Here, the feature only works for a certain segment of users (or conditions, etc). Let&#8217;s assume this experiment is deployed on your site&#8217;s homepage, and that it only &#8220;works&#8221; for 10% of users. And by &#8220;works&#8221;, we mean that new_hot_algorithm.has_results is true 10% of the time. And let&#8217;s further assume that the experiment has been incorrectly configured as shown above, and that the experimental results showed a 5% increase in purchase conversion rates.</p>
<p>The problem here is with the statement: &#8220;My experiment just increased homepage conversion rates by 5%&#8221;. Of course, the correct statement requires backing this out over your 10% coverage which yields increased homepage conversion rates of only 0.5%. </p>
<p>One could argue that this case isn&#8217;t a mistake, per se. However, a fundamental goal of A/B testing is to understand the impact of your changes at hand, and oftentimes this sort of &#8220;cherry picking&#8221; can lead to confused results.</p>
<h2>Problem: You&#8217;re letting users &#8220;sneak preview&#8221; things</h2>
<p><a href="http://drjasondavis.files.wordpress.com/2013/09/sneakpreview_rt.png"><img src="http://drjasondavis.files.wordpress.com/2013/09/sneakpreview_rt.png?w=584" alt="sneakpreview_rt"   class="alignnone size-full wp-image-332" /></a></p>
<p>Say you&#8217;ve turned on the experiment for your new_hot_algorithm above to 5%. People start noticing, Twitter starts blowing up and users start begging you for access.</p>
<p>Responding to these concerns, you quickly modify your experiment to look like this:<br />
<code><br />
bucket = ab_selector.assign_bucket_and_log(test, user)<br />
if (current_url.params['sneakpreview'] == 'on'):<br />
&nbsp;&nbsp; bucket = 'test' # INCORRECT!<br />
if (new_hot_algorithm.has_results):<br />
&nbsp;&nbsp; if (bucket == ‘test’):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render test<br />
&nbsp;&nbsp; elif (bucket == 'control'):<br />
&nbsp;&nbsp;&nbsp;&nbsp; # Render control<br />
else:<br />
&nbsp;&nbsp; # Render control<br />
</code></p>
<p>And you give your users a sneak preview link that looks something like <a href="http://www.funpalace.com?sneakpreview=on" rel="nofollow">http://www.funpalace.com?sneakpreview=on</a>. And they tell their friends and tweet the link. And their friends&#8217; friends retweet it. And suddenly lots and lots of people are sneak previewing.</p>
<p>The problem with the implementation above is that your framework logs the variant on line 1, but then re-assigns the bucket (and consequently, what the user sees) on the next line. And here&#8217;s what&#8217;s going on:</p>
<table>
<tbody>
<th>
<td>sneak_preview <b>not</b> in url</td>
<td>sneak_preview in url</td>
</th>
<tr>
<td>Control (A)</td>
<td>A</td>
<td><b>B</b></td>
</tr>
<tr>
<td>Test (B)</td>
<td>B</td>
<td>B</td>
</tr>
</tbody>
</table>
<p>The problem lies in the case where the A/B selection framework is selecting and logging variant A, but the sneak_preview override forces the user to see variant B.</p>
<h2>Problem: Caching!</h2>
<p><a href="http://drjasondavis.files.wordpress.com/2013/09/cache_problems.png"><img src="http://drjasondavis.files.wordpress.com/2013/09/cache_problems.png?w=584&#038;h=335" alt="cache_problems" width="584" height="335" class="alignnone size-full wp-image-338" /></a></p>
<p>Caching is generally at odds with A/B testing. Say your homepage is entirely static, and that you use Akamai (or some other edge network) to cache your homepage. And say one day you decide to run a test to change the copy on the homepage.</p>
<p>Your code looks something like this:<br />
<code><br />
bucket = ab_selector.assign_bucket_and_log(test, user)<br />
if (bucket == ‘control’):<br />
&nbsp;&nbsp; greeting = "Greetings!"<br />
elif (bucket == ‘test’):<br />
&nbsp;&nbsp; greeting = "Welcome!"<br />
</code></p>
<p>And every 30 minutes (or however long your caching TTL is), exactly one request will fall through your edge network to your data center (steps 1 and 2 in the picture above), exercise the code above (step 3 in the picture), which will in turn choose exactly one of the two variants. All subsequent requests for your homepage (such as steps 4 &amp; 5) will return the cached version of the page, each of which say either &#8220;Greetings!&#8221; or &#8220;Welcome!&#8221;. </p>
<p>There are plenty of other ways that caching can invalidate your A/B testing results. So think about how you&#8217;re using memcache, squid, edge networks, and any other source of caching at any layer.</p>
<h2>Problem: You&#8217;re using separate bucket logic for both logged in and logged out users</h2>
<p><a href="http://drjasondavis.files.wordpress.com/2013/09/logged_out_the_in.png"><img src="http://drjasondavis.files.wordpress.com/2013/09/logged_out_the_in.png?w=584&#038;h=133" alt="logged_out_the_in" width="584" height="133" class="alignnone size-full wp-image-334" /></a></p>
<p>Perhaps the most technical of the seven errors, this one makes some deeper assumptions about how your bucketing works. Many A/B frameworks bucket by taking a hash of either user ids or session identifiers. The advantage is that a user&#8217;s bucket can be assigned randomly, but no explicit storage (i.e. a database) is required to maintain state. For more details, see <a href="http://www.exp-platform.com/Documents/GuideControlledExperiments.pdf">Section 4.1.1 on Kohavi et al&#8217;s KDD paper</a>, or refer to <a href="https://github.com/etsy/feature/blob/master/Feature/World.php#L96">Etsy&#8217;s implementation on GitHub</a>.</p>
<p>While hashing schemes are great, they break down if you use different bucketing keys for your logged out vs logged in users.</p>
<p>Let&#8217;s consider an example visit where a user arrives, sees a test, and then logs in:</p>
<p>Example Visit:</p>
<table>
<tbody>
<tr>
<td>User arrives at homepage</td>
<td><i>No Variant</i></td>
</tr>
<tr>
<td>User searches, triggers test</td>
<td>A</td>
</tr>
<tr>
<td>User logs in</td>
<td><i>No Variant</i></td>
</tr>
<tr>
<td>User searches, triggers test</td>
<td>B</td>
</tr>
</tbody>
</table>
<p>Since the user&#8217;s unique identifier changes after she logs in, it&#8217;s possible that her A/B bucket will change as well. For example, if Jane&#8217;s session identifier is the string &#8220;QsfdET34&#8243; which hashes to bucket A, after she logs in, her email (jane@gmail.com) could very well hash to bucket B.</p>
<p>Let&#8217;s assume that your A/B analytics discards visits like Jane&#8217;s that have conflicting A and B variants. And say you&#8217;re running a 90/10 experiment:</p>
<p><code><br />
P(logged out &amp; A) = 90%<br />
P(logged out &amp; B) = 10%<br />
P(logged in &amp; A) = 90%<br />
P(logged in &amp; B) = 10%<br />
</code></p>
<p>Now let&#8217;s look at visits that are both logged in and logged out:<br />
<code><br />
P(logged in &amp; A, logged out &amp; A) = 81%<br />
P(logged in &amp; B, logged out &amp; B) = 1%<br />
P(logged in &amp; A, logged out &amp; B) = 9%<br />
P(logged in &amp; B, logged out &amp; A) = 9%<br />
</code></p>
<p>Your analytics will discard the last two as inconsistent visits, leaving a break down of 81% and 1% for your A vs B variants. But your experiment was configured as a 90% A and 10% B, resulting in incorrectly sized bins.</p>
<p>The simplest solution here is to bucket on only logged in users or only logged out users, but not both.</p>
<h2>Problem: You actually have no idea how your A/B system works</h2>
<p><a href="https://www.etsy.com/listing/115752102/steam-machine-antique-paper-art-print"><img src="http://drjasondavis.files.wordpress.com/2013/09/machine_wtf.png?w=584&#038;h=414" alt="machine_wtf" width="584" height="414" class="alignnone size-full wp-image-336" /></a></p>
<p>There&#8217;s more complexity in A/B testing than appears at first glance, and understanding basic measurement constructs is critical in spotting problems.</p>
<p>Understanding your tools is critical to running a valid A/B test. You may be using a complete end-to-end A/B tool like <a href="http://www.google.com/analytics/features/content.html">Google Analytics Content Experiments</a>. Or perhaps you&#8217;re using <a href="http://optimizely.com/">Optimizely&#8217;s</a> slick JavaScript A/B framework and measuring results with <a href="https://mixpanel.com/">Mixpanel</a>. Maybe you&#8217;re doing A/B selection yourself and even using your own pipeline for analysis. </p>
<p>Almost two years ago, Google made some <a href="http://www.kaushik.net/avinash/google-analytics-visits-metric-change-implications-opportunities/">fundamental changes</a> to how they sessionize their web visits. One side effect of this change involved how they count visits from third party referring sites (including email, social media, etc.); understanding this change is critical not just for A/B testing email, but for generally understanding email analytics. And of course the example above illustrates some unexpected side effects of hash-based bucketing.</p>
<p>A/B testing is a great way of measuring the effectiveness of the products and improvements you&#8217;re building. A well designed A/B system should make releasing an experiment alongside a feature release just as easy as releasing the feature by itself. But unlike most software debugging where errors can be easily reproduced by refreshing a web page or running a script, such is not the case with analytics and certainly not with A/B testing. So even if your A/B framework makes it really easy to setup and run A/B tests, A/B testing can get very complicated very quickly, and it isn&#8217;t always easy to debug things when they go wrong.</p>
<p><i>Thanks to <a href="http://www.mcfunley.com">Dan McKinley</a> for reading drafts of this.</i></p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" class="share-twitter sd-button share-icon" href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/?share=twitter" target="_blank" title="Click to share on Twitter" id="sharing-twitter-250"><span>Twitter</span></a></li><li class="share-facebook"><a rel="nofollow" class="share-facebook sd-button share-icon" href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/?share=facebook" target="_blank" title="Share on Facebook" id="sharing-facebook-250"><span>Facebook</span></a></li><li class="share-email"><a rel="nofollow" class="share-email sd-button share-icon" href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/?share=email" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-end"></li></ul></div></div></div></div>			</div><!-- .entry-content -->

	<footer class="entry-meta">
		This entry was posted in <a href="http://drjasondavis.com/category/analytics/" title="View all posts in Analytics" rel="category tag">Analytics</a>, <a href="http://drjasondavis.com/category/data/" title="View all posts in Data" rel="category tag">Data</a> and tagged <a href="http://drjasondavis.com/tag/ab-testing/" rel="tag">a/b testing</a>, <a href="http://drjasondavis.com/tag/product-development/" rel="tag">product development</a> by <a href="http://drjasondavis.com/author/jasonvdavis/">Jason Davis (@jasondavis)</a>. Bookmark the <a href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/" title="Permalink to Eight Ways You&#8217;ve Misconfigured Your A/B&nbsp;Test" rel="bookmark">permalink</a>.		
			</footer><!-- .entry-meta -->
</article><!-- #post-250 -->

						<div id="comments">
	
	
			<h2 id="comments-title">
			3 thoughts on &ldquo;<span>Eight Ways You&#8217;ve Misconfigured Your A/B&nbsp;Test</span>&rdquo;		</h2>

		
		<ol class="commentlist">
				<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-245">
		<article id="comment-245" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='http://1.gravatar.com/avatar/d653fb3b92d05c090d2e5125965e4bba?s=68&amp;d=identicon&amp;r=G' class='avatar avatar-68' height='68' width='68' /><span class="fn"><a href='http://www.databoxdigital.com' rel='external nofollow' class='url'>Chris</a></span> on <a href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/#comment-245"><time datetime="2013-09-13T00:40:10+00:00">September 13, 2013 at 12:40 am</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi Jason,</p>
<p>Thanks for posting, this was a great overview of some common problems. I&#8217;m a little confused by #2 though. Why are you counting users twice just because they are a repeat visitor? E.g. 100 users come in as control, and 100 come in as test. The test experience is so great that 50 users return, compared to only 30 users for control. When you&#8217;re measuring, your bucket is still going to be 100 users for both, not 150/130. What am I missing?</p>
<p>Thanks,<br />
Chris</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/?replytocom=245#respond' onclick='return addComment.moveForm("comment-245", "245", "respond", "250")'>Reply <span>&darr;</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment byuser comment-author-jasonvdavis bypostauthor odd alt depth-2 highlander-comment" id="li-comment-246">
		<article id="comment-246" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='http://2.gravatar.com/avatar/5ad800529ca815561e874237f707c810?s=39&amp;d=identicon&amp;r=G' class='avatar avatar-39' height='39' width='39' /><span class="fn"><a href='http://twitter.com/jasondavis' rel='external nofollow' class='url'>Jason Davis (@jasondavis)</a></span> on <a href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/#comment-246"><time datetime="2013-09-13T07:16:25+00:00">September 13, 2013 at 7:16 am</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Thanks Chris &#8211; glad you enjoyed the post. </p>
<p>I updated the post to read &#8220;users on day 2, day 3, etc.&#8221;. Effectively, this is what&#8217;s happening:</p>
<p>Day 1: 100 users in each bucket<br />
Day 2: 30 from A, 50 from B, plus, say, 60 more new users to each bucket (or 90 / 110)<br />
Day 3: 25 from A, 55 from B, plus another 60/60 more new users (85 / 115)</p>
<p>User splits are 50/50 across the entire test as you point out. But the buckets are no longer randomly selected, as B has a bias toward logged in / registered users.</p>
<p>Jason</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/?replytocom=246#respond' onclick='return addComment.moveForm("comment-246", "246", "respond", "250")'>Reply <span>&darr;</span></a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment even depth-3 highlander-comment" id="li-comment-247">
		<article id="comment-247" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='http://1.gravatar.com/avatar/d653fb3b92d05c090d2e5125965e4bba?s=39&amp;d=identicon&amp;r=G' class='avatar avatar-39' height='39' width='39' /><span class="fn"><a href='http://www.databoxdigital.com' rel='external nofollow' class='url'>Chris</a></span> on <a href="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/#comment-247"><time datetime="2013-09-13T11:05:19+00:00">September 13, 2013 at 11:05 am</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Oh ok &#8211; so your denominator is a sum of daily unique visitors, as opposed to total unique visitors across the time period.  I can see why that&#8217;d be an issue &#8211; I typically like to keep my user count unique across the entire time period. Thanks again.<br />
-Chris</p>
</div>

			<div class="reply">
							</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		</ol>

		
		
	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://drjasondavis.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										


												<input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="f0c9b3a8cd" /><input type="hidden" name="_wp_http_referer" value="/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">

	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" title="Guest">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter">
					<span></span>
				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook">
					<span></span>
				</a>
			</li>
			<li>
			<iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=1" width="24" height="24" scrolling="no" allowtransparency="true" seamless="seamless" frameborder="0"></iframe>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="text" value="" /></div>
				</div>
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://s2.wp.com/wp-content/mu-plugins/highlander-comments/images/wplogo.png?m=1289230950g" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
				<p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
				<p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
				<p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="http://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google+ photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
				<p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p>
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

	
</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;" tabindex="6"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of follow-up comments via email.</label></p></div>

												<p class="form-submit">
							<input name="submit" type="submit" id="comment-submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='250' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						
<input type="hidden" name="genseq" value="1380959801" />
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="75d6ee8653" /></p><script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/akismet-2.5/form.js?m=1308783962g'></script>
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="14"/></p>					</form>
							</div><!-- #respond -->
			<div style="clear: both"></div>			
</div><!-- #comments -->

				
			</div><!-- #content -->
		</div><!-- #primary -->


	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			
<div id="supplementary" class="one">
	
		<div id="second" class="widget-area" role="complementary">
		<aside id="image-4" class="widget widget_image"><div style="overflow:hidden;"><a href="https://twitter.com/intent/user?screen_name=JasonDavis"><img src="http://drjasondavis.s3.amazonaws.com/jasondavis_twitter_follow_btn.png" class="aligncenter" width="164" height="28" /></a></div>
</aside>	</div><!-- #second .widget-area -->
	
	</div><!-- #supplementary -->
			<div id="site-generator">
				<a href="http://theme.wordpress.com/credits/drjasondavis.com/" title="Learn about customizing this theme with the Custom Design upgrade">Customized Twenty Eleven Theme</a>. <span class="sep"> | </span>				<a href="http://wordpress.com/?ref=footer" rel="generator">Blog at WordPress.com</a>.
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->


<script type="text/javascript">
var _qevents = _qevents || [], wpcomQuantcastData = {"qacct":"p-18-mFEk4J448M","labels":",language.en,type.wpcom,posttag.ab-testing,posttag.product-development"};
function wpcomQuantcastPixel( labels, options ) {
	var i, defaults = wpcomQuantcastData, data = { event: 'ajax' };

	labels  = labels  || '';
	options = options || {};

	if ( typeof labels != 'string' )
		options = labels;

	for ( i in defaults ) {
		data[i] = defaults[i];
	}

	for ( i in options ) {
		data[i] = options[i];
	}

	if ( data.labels ) {
		data.labels += ',' + labels;
	} else {
		data.labels = labels;
	}

	_qevents.push( data );
};
(function() {var elem = document.createElement('script');elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";elem.async = true;elem.type = "text/javascript";var scpt = document.getElementsByTagName('script')[0];scpt.parentNode.insertBefore(elem, scpt);  })();
_qevents.push( wpcomQuantcastData );
</script>
<noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/p-18-mFEk4J448M.gif?labels=%2Clanguage.en%2Ctype.wpcom%2Cposttag.ab-testing%2Cposttag.product-development" height="1" width="1" alt="" /></div></noscript>

<script type='text/javascript' src='//0.gravatar.com/js/gprofiles.js?ver=201340ae'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781g'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {
			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-d653fb3b92d05c090d2e5125965e4bba">
	</div>
	<div class="grofile-hash-map-5ad800529ca815561e874237f707c810">
	</div>
	</div>
<script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"http:\/\/drjasondavis.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"http:\/\/drjasondavis.wordpress.com\/wp-login.php?action=logout&_wpnonce=36ee73df56","homeURL":"http:\/\/drjasondavis.com\/","postID":"250","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"0","userIsLoggedIn":"","isJetpack":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s1.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1379020420j'></script>

	<div id="bit" class="loggedout-follow-normal">
		<a class="bsub" href="javascript:void(0)"><span id='bsub-text'>Follow</span></a>
		<div id="bitsubscribe">

					<h3><label for="loggedout-follow-field">Follow &ldquo;Dr. Jason Davis&rdquo;</label></h3>

			<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="loggedout-follow">
			<p>Get every new post delivered to your Inbox.</p>

			<p id="loggedout-follow-error" style="display: none;"></p>

			
			<p><input type="email" name="email" style="width: 95%; padding: 1px 2px" value="Enter your email address" onfocus='this.value=(this.value=="Enter your email address") ? "" : this.value;' onblur='this.value=(this.value=="") ? "Enter email address" : this.value;'  id="loggedout-follow-field"/></p>

			<input type="hidden" name="action" value="subscribe"/>
			<input type="hidden" name="blog_id" value="18274169"/>
			<input type="hidden" name="source" value="http://drjasondavis.com/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/"/>
			<input type="hidden" name="sub-type" value="loggedout-follow"/>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="7262ed5e2e" /><input type="hidden" name="_wp_http_referer" value="/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/" />
			<p id='bsub-subscribe-button'><input type="submit" value="Sign me up" /></p>
			</form>
					<div id='bsub-credit'><a href="http://wordpress.com/signup/?ref=lof">Powered by WordPress.com</a></div>
		</div><!-- #bitsubscribe -->
	</div><!-- #bit -->

	<script type="text/javascript">
		WPCOM_sharing_counts = {"http:\/\/drjasondavis.com\/2013\/09\/12\/eight-ways-youve-misconfigured-your-ab-test\/":250}	</script>
		<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-twitter' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
		});
		</script>
				<script type="text/javascript">
		jQuery(document).on( 'ready post-load', function(){
			jQuery( 'a.share-facebook' ).on( 'click', function() {
				window.open( jQuery(this).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
		});
		</script>
			<div id="sharing_email" style="display: none;">
		<form action="/2013/09/12/eight-ways-youve-misconfigured-your-ab-test/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="text" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="text" name="source_email" id="source_email" value="" />

			
			<div class="recaptcha" id="sharing_recaptcha"></div><input type="hidden" name="recaptcha_public_key" id="recaptcha_public_key" value="6LcYW8MSAAAAADBAuEH9yaPcF7lWh11Iq62ZKtoo" />
			<img style="float: right; display: none" class="loading" src="http://s2.wp.com/wp-content/mu-plugins/post-flair/sharing/images/loading.gif?m=1315610318g" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a href="#cancel" class="sharing_cancel">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
<script type='text/javascript'>
/* <![CDATA[ */
var recaptcha_options = {"lang":"en"};
/* ]]> */
</script>
<script type='text/javascript' src='http://s2.wp.com/_static/??/wp-content/js/devicepx.js,/wp-content/mu-plugins/post-flair/sharing/sharing.js?m=1373391538j'></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script><script src="http://s.stats.wordpress.com/w.js?21" type="text/javascript"></script>
<script type="text/javascript">
st_go({'blog':'18274169','v':'wpcom','tz':'-5','user_id':'0','post':'250','subd':'drjasondavis'});
ex_go({'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGRVYVNrSFguN3FwSmQ5RGtNX3VQcj1yVzhiflM1THQtLGFdQ2toOXYlQjYrMC9LcVI/VlA0X254PXM/JT9UZnxGMUwyWC9yRFNdfjQydVB0b3R8YVNdXXguQUthYlVBUjYwV2xxazBIS2oyVmx0eF15RT95NVFUeDc9UXdYMysubk9KaWVRY2h0Z2dqT2p6NFFqeWE3OS03eUVJLFlRdl8tUEZsW34vXy9QM1dmYzM2QWVvb2sxW1hdWEZ0ZFc9WEhFaS4/VlE3fnlTRCVGcUFmXzAyalBDLUdmLmVTODR3P1ZZLnNIX2xwcn5OQ1lPSF1iLVN3cFNpL3xqYzhyaWIvY29YNltKV1VIRmQxc2VDWE8u'});
addLoadEvent(function(){linktracker_init('18274169',250);});
	</script>
<noscript><img src="http://stats.wordpress.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//stats.wordpress.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>
</html>